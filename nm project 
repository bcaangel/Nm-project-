Calculating Family Expenses using Service Now
Team Id: B69CEB5F139332EBA01479A656CDC9E2
Team Members: 04
Team Leader: N.Angel
A.Jeenath Beevi
A.V. Aveena
H.Devisri
Problem Statement:  
Objective:  
Skills
 	Setting up ServiceNow Instance
Sign up for a developer account on the SSign up for a developer account on the ServiceNow Developer site
 1.“https://developer.servicenow.com”.
2.Once logged in, navigate to the "Personal Developer Instance" section.
3.Click on "Request Instance" to create a new ServiceNow instance.
4.Fill out the required information and submit the request.
5.You'll receive an email with the instance details once it's ready.
6.Log in to your ServiceNow instance using the provided credentials.erviceNow Developer site
7.Now you will navigate to the ServiceNow.

	Creation of New Update Set

1.Go to All >> In the filter search for Local Update set > click on New.
 
2.Enter the Details as: 
Name : Family Expenses
Then click on Submit and Make current.
 
Creation of New Update Set
1.Go to All >> In the filter search for Local Update set > click on New.
 
2.Enter the Details as: 
Name : Family Expenses
Then click on Submit and Make current.

 
	Creation of Family Expenses Table
1.Go to All > In the filter search for Tables > click on New.

2.Enter the Details:
Label : Family Expenses
Name : Auto-Populated
New menu name : Family Expenditure

	
 

3.Go to the Header and right click there>> click on Save.
		Creation of Columns(Fields)
1.Near Columns Double click near insert a new row.
2.Give the details as:
Column label : Number
Type : String
3.Double click on insert a new row again
4.Give the details as:
Column label : Date
Type : Date
5.Double click on insert a new row again
6.Give the details as:
Column label : Amount
Type : Integer
7.Double click on insert a new row again
8.Give the details as:
Column label : Expense Details
Type : String
Max length : 800
 

9.Go to the Header and right click there>> click on save.

		Making Number Field an Auto-Number

	1.Double click on the Number Field/Column.  
	2.Go down and double click on Advanced view
	3.In Default Value:
	4.Use dynamic default : check the box
	5.Dynamic default value : Get Next Padded Number
	6.Click on Update.

 
7.Go to All >> In the filter search for Number Maintenance >> select Number Maintenance
8.Click on New.
9.Enter the below Details:
Table : Family Expenses
Prefix : MFE
 

	10.Click on Submit.

Configure the Form

1.Go to All >> In the filter search for Family Expenses >> Open Family Expenses
2.Click on New
3.Go to the Header and right click there>> click on Configure >> Select Form Design
4.Customize or Drag Drop the form as per your requirement.

 

5.Make Number Read-Only Field by clicking on the gear icon and checking Read-Only
6.Make Date, Amount Mandatory Field by clicking on the gear icon and checking Mandatory
7.Click on Save.

		Creation of Daily Expenses Table
1.Go to All > In the filter search for Tables > click on New.
2.Enter the Details:
3.Label : Daily Expenses
4.Name : Auto-Populated
5.Add Module to menu : Family Expenditure
 
6.Go to the Header and right click there>> click on Save.

		Creation of Columns(Fields)
1.Near Columns Double click near insert a new row.
2.Give the details as:
Column label : Number
Type : String
3.Double click on insert a new row again
4.Give the details as:
Column label : Date
Type : Date
5.Double click on insert a new row again
6.Give the details as:
Column label : Expense
Type : Integer
7.Double click on insert a new row again
8.Give the details as:
Column label : Family Member Name
Type : Reference
Max length : 800
9.Double click on insert a new row again
10.Give the details as:
Column label : Comments
Type : String
Max length : 800
11.Go to the Header and right click there>> click on Save.

		Making Number Field an Auto-Number
1.Double click on the Number Field/Column.
2.Go down and double click on Advanced view
3.In Default Value:
Use dynamic default : check the box
Dynamic default value : Get Next Padded Number
4.Click on Update.
 
5.Go to All >> In the filter search for Number Maintenance >> select Number Maintenance
6.Click on New.
7.Enter the below Details:
8.Table : Family Expenses
9.Prefix : MFE
 

10.Click on Submit.

		Configure the Form
1.Go to All >> In the filter search for Daily Expenses >> Open Daily Expenses
2.Click on New
3.Go to the Header and right click there>> click on Configure >> Select Form Design
4.Customize or Drag Drop the form as per your requirement.
 

5.Make Number Read-Only Field by clicking on the gear icon and checking Read-Only
6.Make Date, Family Member Name Mandatory Field by clicking on the gear icon and checking Mandatory
7.Click on Save.

			Configure the Form
1.Go to All >> In the filter search for Daily Expenses >> Open Daily Expenses
2.Click on New
3.Go to the Header and right click there>> click on Configure >> Select Form Design
4.Customize or Drag Drop the form as per your requirement.
 
5.Make Number Read-Only Field by clicking on the gear icon and checking Read-Only
6.Make Date, Family Member Name Mandatory Field by clicking on the gear icon and checking Mandatory
7.Click on Save.

Creation of Relationship between Family Expenses and Daily Expenses tables
Go to All >> In the filter search for Relationships >> Open Relationships
1.Click on New.
2.Enter the details:
Name : Daily Expenses
3.Daily Expenses : Select Daily Expenses
4.Click Save.

		Configuring Related List on Family Expenses
Go to All >> In the filter search for Family Expenses >> Open Family Expenses
1.Click on New
2.Go to the Header and right click there>> click on Configure >> Select Related Lists
3.Add Daily Expenses to the Selected Area.
4.Click on Save
 
			Creation of Business Rules
Go to All >> In the filter search for Business Rules.
1.Under System Definition Select Business Rules then click on New.
2.Enter the Details:
Name : Family Expenses BR
Table : Select Daily Expenses
3.Check Advanced
 
In Advance(we write the code): Write the below code >>
(function executeRule(current, previous /*null when async*/) {
var FamilyExpenses = new GlideRecord('u_family_expenses');
FamilyExpenses.addQuery('u_date',current.u_date);
FamilyExpenses.query();
if(FamilyExpenses.next())
{
FamilyExpenses.u_amount += current.u_expense;
FamilyExpenses.u_expense_details += ">"+current.u_comments+":"+"Rs."+current.u_expense+"/-";
FamilyExpenses.update();
}
else
{
var NewFamilyExpenses = new GlideRecord('u_family_expenses');
NewFamilyExpenses.u_date = current.u_date;
NewFamilyExpenses.u_amount = current.u_expense;
NewFamilyExpenses.u_expense_details += ">"+current.u_comments+":"+"Rs."+current.u_expense+"/-";
NewFamilyExpenses.insert()
}
})(current, previous);
Go to the Header and right click there>> click on Save.

			Configure the Relationship
Go to All >> In the filter search for Relationships >> Open Relationships.
1.In that, open Daily Expenses Relationship.
2.For Applies to table : Select Family Expenses.
3.In Query with : write the below Query.
(function refineQuery(current, parent) {
// Add your code here, such as current.addQuery(field, value);
current.addQuery('u_date',parent.u_date);
4.current.query();
})(current, parent);
5.Click on Update.

Conclusion







